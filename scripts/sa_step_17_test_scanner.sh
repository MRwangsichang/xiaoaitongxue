#!/usr/bin/env bash
set -euo pipefail

say(){ printf "[%s] %s\n" "$(date +%H:%M:%S)" "$*"; }

say "=== ç¬¬17æ­¥ï¼šæ‰‹åŠ¨æµ‹è¯•æ‰«ææœåŠ¡ ==="
say ""
say "ğŸ“‹ æµ‹è¯•å‡†å¤‡ï¼š"
say "   1. ç¡®ä¿ä½ åœ¨é•œå¤´å¯è§èŒƒå›´å†…"
say "   2. å½“å‰é…ç½®ï¼šæµ‹è¯•æ¨¡å¼ï¼ˆ5åˆ†é’Ÿé—´éš”ï¼‰"
say "   3. æµ‹è¯•æ—¶é•¿ï¼šå»ºè®®è‡³å°‘10-15åˆ†é’Ÿï¼ˆè§‚å¯Ÿ2-3è½®æ‰«æï¼‰"
say ""
say "ğŸ¯ æµ‹è¯•æ­¥éª¤ï¼š"
say "   ã€æ­¥éª¤1ã€‘åœ¨ç»ˆç«¯2å¯åŠ¨æ‰«ææœåŠ¡ï¼ˆå‰å°è¿è¡Œï¼‰"
say "   å‘½ä»¤ï¼šbash /home/MRwang/smart_assistant/scripts/start_scanner.sh"
say ""
say "   ã€æ­¥éª¤2ã€‘ç«™åœ¨é•œå¤´å‰ï¼Œç­‰å¾…ç¬¬ä¸€è½®è¯†åˆ«ï¼ˆçº¦5åˆ†é’Ÿï¼‰"
say "   é¢„æœŸï¼šçœ‹åˆ°è¯†åˆ«æ—¥å¿— + MQTTäº‹ä»¶å‘å¸ƒ"
say ""
say "   ã€æ­¥éª¤3ã€‘ç»§ç»­ç­‰å¾…ç¬¬äºŒè½®æ‰«æï¼ˆå†ç­‰5åˆ†é’Ÿï¼‰"
say "   é¢„æœŸï¼šå› ä¸ºå†·å´æœŸï¼Œåº”è¯¥è·³è¿‡è¯†åˆ«"
say ""
say "   ã€æ­¥éª¤4ã€‘æŒ‰ Ctrl+C åœæ­¢æœåŠ¡"
say ""
say "ğŸ” åŒæ—¶åœ¨ç»ˆç«¯1æ‰§è¡ŒMQTTè®¢é˜…ï¼ˆç›‘å¬äº‹ä»¶ï¼‰ï¼š"
say "   å‘½ä»¤ï¼šmosquitto_sub -h localhost -t 'sa/vision/person_detected' -v"
say ""
say "âœ“ æµ‹è¯•è¯´æ˜å·²ç”Ÿæˆ"
say ""
say "==================== å¼€å§‹æµ‹è¯• ===================="
say "è¯·åœ¨ã€ç»ˆç«¯2ã€‘æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ‰«ææœåŠ¡ï¼š"
echo ""
echo "bash /home/MRwang/smart_assistant/scripts/start_scanner.sh"
echo ""
say "åŒæ—¶ï¼Œå¦‚æœæƒ³ç›‘å¬MQTTäº‹ä»¶ï¼Œåœ¨ã€ç»ˆç«¯3ã€‘æ‰§è¡Œï¼š"
echo ""
echo "mosquitto_sub -h localhost -t 'sa/vision/person_detected' -v"
echo ""
say "================================================="
